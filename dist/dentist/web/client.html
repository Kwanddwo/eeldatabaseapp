<!DOCTYPE html>
<html lang="fr">
	<head>
        <title>Nouveau Client</title>
        <link rel="icon" type="image/png" href="img/favicon.png">
        <link rel="stylesheet" href="css/main.css">
        <script type="text/javascript" src="/eel.js"></script>
        <script type="text/javascript">

            function getClient() {
                return {
                    'nom': document.getElementById('nom').value,
                    'prenom': document.getElementById('prenom').value,
                    'telephone': document.getElementById('telephone').value
                };
            }
            
            document.addEventListener('DOMContentLoaded', () => {
                document.getElementById('form').onsubmit = (e) => {
                    e.preventDefault();
                    const client = getClient();
                    console.log(client);

                    document.getElementById('nom').value = '';
                    document.getElementById('prenom').value = '';
                    document.getElementById('telephone').value = '';

                    document.getElementById('message').innerText = 'Added User Successfully';

                    eel.pyGetClient(client);
                }
            });

            document.oncontextmenu = (e) => {
                    e.preventDefault();
            }
                
        </script>
	</head>
	<body>
		<nav> 
            <a href="search.html">Chercher le base de données</a>
            <a href="client.html" class="current">Nouveau Client</a>
            <a href="main.html">Nouveau Entrée</a>
        </nav>

		<form id="form" autocomplete="off">
			<input required type="text" placeholder="Nom" id="nom">
			<input required type="text" placeholder="Prénom" id="prenom">
            <input required type="number" placeholder="Telephone" id="telephone">
            <button type="submit">Soumettre</button>
		</form>

        <h5 id="message"></h5>
	</body>
</html>